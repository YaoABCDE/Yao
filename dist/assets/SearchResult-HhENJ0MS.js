import{u as I,j as te,v as le,x as U,y as ae,P as oe,z as se,A as re,l as Q,B as w,C as ne,w as M,k as l,D as ie,R as T,E as ue,G as pe,H as he,I as ce,J as me,K as de,m as ge,L as ve,M as ye,N as Ee,O as _e,Q as O,S as P,T as Ae,U as k,V as be}from"./app-Cbv0JMeA.js";const fe=["/intro.html","/","/about/","/about/me.html","/about/website.html","/about/guestbook.html","/demo/disable.html","/demo/encrypt.html","/demo/layout.html","/demo/markdown.html","/demo/page.html","/demo/","/developer/","/en/intro.html","/en/","/favorite/","/leetcode/","/posts/catalog.html","/posts/book_list.html","/posts/ot-doc_ready.html","/posts/","/tips/","/tips/xiaojiqiao.html","/tools/","/tools/uTools.html","/tutorial/proxy_wall_ready.html","/tutorial/wsl_ready.html","/tutorial/wsl_proxy.html","/tutorial/ssh_jump.html","/tutorial/","/zh/intro.html","/zh/","/developer/basic/computer_and_os.html","/developer/basic/open_source.html","/developer/basic/dev_env_ready.html","/developer/basic/coding_market.html","/developer/basic/file_and_path.html","/developer/basic/file_utf8.html","/developer/basic/cmd_shell.html","/developer/basic/apt_homebrew.html","/developer/basic/git_github.html","/developer/basic/vscode.html","/developer/basic/search_engine.html","/developer/basic/proxy_to_net.html","/developer/basic/","/developer/front_end_web/nodejs_ready.html","/developer/front_end_web/fnm_ready.html","/developer/front_end_web/web_develop_ready.html","/developer/front_end_web/es6_modules.html","/developer/front_end_web/npm.html","/developer/front_end_web/pm2.html","/developer/front_end_web/","/developer/front_end_web/url_parse.html","/developer/golang/golang_install.html","/developer/golang/go_mongo.html","/developer/golang/","/developer/golang/shell-format.html","/developer/golang/vscode_golang.html","/developer/golang/golang_viewpoint.html","/developer/golang/golang_shell.html","/developer/golang/golang_command.html","/developer/golang/golang_lib.html","/developer/golang/golang_book.html","/developer/linux/nginx_ready.html","/developer/linux/","/developer/linux/wsl%E5%AE%89%E8%A3%85%E6%A1%8C%E9%9D%A2.html","/en/demo/disable.html","/en/demo/encrypt.html","/en/demo/page.html","/en/demo/","/en/posts/cherry.html","/en/posts/dragonfruit.html","/en/posts/strawberry.html","/en/posts/tomato.html","/favorite/essays/","/favorite/essays/elonmusk_saying.html","/favorite/essays/not_internet_developer.html","/favorite/links/document.html","/favorite/links/friend.html","/favorite/links/","/favorite/links/tools.html","/favorite/movies/","/favorite/movies/ForrestGump.html","/favorite/music/","/favorite/music/music163_favorite.html","/favorite/photos/bing_img_api.html","/favorite/photos/","/leetcode/threeSum.html","/leetcode/twoSum.html","/leetcode/groupAnagrams.html","/leetcode/trap.html","/leetcode/maxArea.html","/leetcode/longestConsecutive.html","/leetcode/moveZeroes.html","/tools/git/git_ready.html","/tools/git/git_proxy.html","/tools/git/git_command.html","/tools/git/git_client.html","/tools/git/git_flow.html","/tools/git/","/tools/vscode/vscode_ready.html","/tools/vscode/vscode_common_plug.html","/tools/vscode/vscode_web_front_vue.html","/tools/vscode/vscode_golang.html","/tools/vscode/vscode_remote.html","/tools/vscode/vscode_Draw.html","/tools/vscode/vscode_nginx.html","/tools/vscode/","/tutorial/vuepress-hope/step_ready.html","/tutorial/vuepress-hope/img-preview.html","/tutorial/vuepress-hope/step_config.html","/tutorial/vuepress-hope/step_components.html","/tutorial/vuepress-hope/step_client.html","/tutorial/vuepress-hope/step_md_components.html","/tutorial/vuepress-hope/klipse.html","/tutorial/vuepress-hope/step_talk.html","/tutorial/vuepress-hope/step_icon_nav.html","/tutorial/vuepress-hope/step_deploy.html","/tutorial/vuepress-hope/","/zh/demo/disable.html","/zh/demo/encrypt.html","/zh/demo/layout.html","/zh/demo/markdown.html","/zh/demo/page.html","/zh/demo/","/zh/posts/cherry.html","/zh/posts/dragonfruit.html","/zh/posts/strawberry.html","/zh/posts/tomato.html","/developer/golang/go-zero/","/developer/linux/debian/","/developer/linux/debian/ready.html","/developer/linux/debian/install_mongo.html","/en/posts/apple/1.html","/en/posts/apple/2.html","/en/posts/apple/3.html","/en/posts/apple/4.html","/en/posts/banana/1.html","/en/posts/banana/2.html","/en/posts/banana/3.html","/en/posts/banana/4.html","/developer/linux/settings/curl_cert.html","/developer/linux/settings/","/zh/posts/apple/1.html","/zh/posts/apple/2.html","/zh/posts/apple/3.html","/zh/posts/apple/4.html","/zh/posts/banana/1.html","/zh/posts/banana/2.html","/zh/posts/banana/3.html","/zh/posts/banana/4.html","/404.html","/en/posts/","/zh/posts/","/en/posts/apple/","/en/posts/banana/","/zh/posts/apple/","/zh/posts/banana/","/category/","/category/guide/","/category/developer/","/category/leetcode/","/category/%E5%8D%9A%E6%96%87/","/category/%E6%95%99%E7%A8%8B/","/category/%E6%8A%80%E5%B7%A7/","/category/%E5%B7%A5%E5%85%B7/","/category/%E5%9F%BA%E7%A1%80/","/category/%E5%89%8D%E7%AB%AF/","/category/golang/","/category/linux/","/category/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/%E6%8C%87%E5%8D%97/","/category/%E6%A8%B1%E6%A1%83/","/category/%E7%81%AB%E9%BE%99%E6%9E%9C/","/category/%E6%B0%B4%E6%9E%9C/","/category/%E8%8D%89%E8%8E%93/","/category/%E8%94%AC%E8%8F%9C/","/category/go/","/category/%E8%8B%B9%E6%9E%9C/","/category/%E9%A6%99%E8%95%89/","/en/category/","/en/category/guide/","/en/category/cherry/","/en/category/dragon-fruit/","/en/category/fruit/","/en/category/strawberry/","/en/category/vegetable/","/en/category/apple/","/en/category/banana/","/tag/","/tag/disable/","/tag/encryption/","/tag/layout/","/tag/markdown/","/tag/page-config/","/tag/guide/","/tag/%E7%9B%AE%E5%BD%95/","/tag/%E4%B9%A6%E5%8D%95/","/tag/ottertrade/","/tag/%E6%BC%94%E7%A4%BA/","/tag/utools/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/%E4%BB%A3%E7%90%86/","/tag/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/","/tag/%E6%8A%80%E5%B7%A7/","/tag/%E6%95%99%E7%A8%8B/","/tag/%E5%B7%A5%E5%85%B7/","/tag/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","/tag/%E5%BA%93/","/tag/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","/tag/nginx/","/tag/leetcode/","/tag/git/","/tag/vscode/","/tag/%E7%A6%81%E7%94%A8/","/tag/%E5%8A%A0%E5%AF%86/","/tag/%E5%B8%83%E5%B1%80/","/tag/%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE/","/tag/%E7%BA%A2/","/tag/%E5%B0%8F/","/tag/%E5%9C%86/","/tag/%E5%A4%A7/","/tag/go-zero/","/tag/debian/","/tag/%E6%95%B0%E6%8D%AE%E5%BA%93/","/tag/mongo/","/tag/setting/","/tag/%E9%BB%84/","/tag/%E5%BC%AF%E6%9B%B2%E7%9A%84/","/tag/%E9%95%BF/","/en/tag/","/en/tag/disable/","/en/tag/encryption/","/en/tag/page-config/","/en/tag/guide/","/en/tag/red/","/en/tag/small/","/en/tag/round/","/en/tag/big/","/en/tag/yellow/","/en/tag/curly/","/en/tag/long/","/article/","/en/article/","/star/","/en/star/","/timeline/","/en/timeline/"],Be="SEARCH_PRO_QUERY_HISTORY",y=I(Be,[]),we=()=>{const{queryHistoryCount:a}=k,o=a>0;return{enabled:o,queryHistory:y,addQueryHistory:s=>{o&&(y.value=Array.from(new Set([s,...y.value.slice(0,a-1)])))},removeQueryHistory:s=>{y.value=[...y.value.slice(0,s),...y.value.slice(s+1)]}}},S=a=>fe[a.id]+("anchor"in a?`#${a.anchor}`:""),ke="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:$}=k,E=I(ke,[]),xe=()=>{const a=$>0;return{enabled:a,resultHistory:E,addResultHistory:o=>{if(a){const s={link:S(o),display:o.display};"header"in o&&(s.header=o.header),E.value=[s,...E.value.slice(0,$-1)]}},removeResultHistory:o=>{E.value=[...E.value.slice(0,o),...E.value.slice(o+1)]}}},De=a=>{const o=ce(),s=U(),x=me(),n=Q(0),b=w(()=>n.value>0),d=de([]);return ge(()=>{const{search:g,terminate:D}=ve(),_=Ae(p=>{const A=p.join(" "),{searchFilter:z=m=>m,splitWord:C,suggestionsFilter:q,...v}=o.value;A?(n.value+=1,g(p.join(" "),s.value,v).then(m=>z(m,A,s.value,x.value)).then(m=>{n.value-=1,d.value=m}).catch(m=>{console.warn(m),n.value-=1,n.value||(d.value=[])})):d.value=[]},k.searchDelay-k.suggestDelay);M([a,s],([p])=>_(p),{immediate:!0}),ye(()=>{D()})}),{isSearching:b,results:d}};var Ce=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:o}){const s=le(),x=U(),n=ae(oe),{enabled:b,addQueryHistory:d,queryHistory:g,removeQueryHistory:D}=we(),{enabled:_,resultHistory:p,addResultHistory:A,removeResultHistory:z}=xe(),C=b||_,q=se(a,"queries"),{results:v,isSearching:m}=De(q),r=re({isQuery:!0,index:0}),h=Q(0),c=Q(0),L=w(()=>C&&(g.value.length>0||p.value.length>0)),H=w(()=>v.value.length>0),R=w(()=>v.value[h.value]||null),Y=()=>{const{isQuery:e,index:t}=r;t===0?(r.isQuery=!e,r.index=e?p.value.length-1:g.value.length-1):r.index=t-1},G=()=>{const{isQuery:e,index:t}=r;t===(e?g.value.length-1:p.value.length-1)?(r.isQuery=!e,r.index=0):r.index=t+1},V=()=>{h.value=h.value>0?h.value-1:v.value.length-1,c.value=R.value.contents.length-1},J=()=>{h.value=h.value<v.value.length-1?h.value+1:0,c.value=0},K=()=>{c.value<R.value.contents.length-1?c.value+=1:J()},N=()=>{c.value>0?c.value-=1:V()},F=e=>e.map(t=>be(t)?t:l(t[0],t[1])),Z=e=>{if(e.type==="customField"){const t=Ee[e.index]||"$content",[i,B=""]=_e(t)?t[x.value].split("$content"):t.split("$content");return e.display.map(u=>l("div",F([i,...u,B])))}return e.display.map(t=>l("div",F(t)))},f=()=>{h.value=0,c.value=0,o("updateQuery",""),o("close")},W=()=>b?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},n.value.queryHistory),g.value.map((e,t)=>l("div",{class:["search-pro-result-item",{active:r.isQuery&&r.index===t}],onClick:()=>{o("updateQuery",e)}},[l(O,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},e),l("button",{class:"search-pro-remove-icon",innerHTML:P,onClick:i=>{i.preventDefault(),i.stopPropagation(),D(t)}})]))])):null,X=()=>_?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},n.value.resultHistory),p.value.map((e,t)=>l(T,{to:e.link,class:["search-pro-result-item",{active:!r.isQuery&&r.index===t}],onClick:()=>{f()}},()=>[l(O,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[e.header?l("div",{class:"content-header"},e.header):null,l("div",e.display.map(i=>F(i)).flat())]),l("button",{class:"search-pro-remove-icon",innerHTML:P,onClick:i=>{i.preventDefault(),i.stopPropagation(),z(t)}})]))])):null;return ne("keydown",e=>{if(a.isFocusing){if(H.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const t=R.value.contents[c.value];d(a.queries.join(" ")),A(t),s.push(S(t)),f()}}else if(_){if(e.key==="ArrowUp")Y();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:t}=r;r.isQuery?(o("updateQuery",g.value[t]),e.preventDefault()):(s.push(p.value[t].link),f())}}}}),M([h,c],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>l("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!H.value:!L.value}],id:"search-pro-results"},a.queries.length?m.value?l(ie,{hint:n.value.searching}):H.value?l("ul",{class:"search-pro-result-list"},v.value.map(({title:e,contents:t},i)=>{const B=h.value===i;return l("li",{class:["search-pro-result-list-item",{active:B}]},[l("div",{class:"search-pro-result-title"},e||n.value.defaultTitle),t.map((u,ee)=>{const j=B&&c.value===ee;return l(T,{to:S(u),class:["search-pro-result-item",{active:j,"aria-selected":j}],onClick:()=>{d(a.queries.join(" ")),A(u),f()}},()=>[u.type==="text"?null:l(u.type==="title"?ue:u.type==="heading"?pe:he,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?l("div",{class:"content-header"},u.header):null,l("div",Z(u))])])})])})):n.value.emptyResult:C?L.value?[W(),X()]:n.value.emptyHistory:n.value.emptyResult)}});export{Ce as default};
